{"version":3,"sources":["webpack://common-utilities-webpack-umd/webpack/bootstrap","webpack://common-utilities-webpack-umd/./src/main.js"],"names":["getTypeString","obj","Object","prototype","toString","call","clone","arg","JSON","parse","stringify","isDefined","copySpecifiedObjectProperties","propertyList","src","dst","forEach","property","getOwnProperties","getOwnPropertyNames","generateRange","start","end","result","push","generateFirstNNaturalNumbers","n","replicateString","str","reduce","accumulator","zeroPadNumber","minLength","slice","getDateTimeString","date","typeStringOfParam","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","insertNumberIntoArray","array","i","findIndex","m","length","splice","insertionSort","removeDuplicatesFromArray","x","y","includes","safeJsonParse","dflt","undefined","e","uuid","r","s","Math","random","substring","substr","floor","factory_fnIsType","typeName","isArray","isFunction","isRegularExpression","isArrayOfNumbers","every","element","sum","mean","median","sortedArray","sort","histogram","mode","hist","keys","count","getAllSubsetsHelper","subsetInProgress","pop","getAllSubsets","sortSubsets","fnSubsetComparator","fnDefaultSubsetComparator","s1","s2","lengthDiff","elementDiff","isSubset","set1","set2","fnElementsAreEqual","element1","find","element2","areSetsEqual","a","b"],"mappings":"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","file":"common-utilities-webpack-umd.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/main.js\");\n","// @tom-weatherhead/common-utilities.js/src/main.js\n\n'use strict';\n\n// **** Type Utilities ****\n\nexport function getTypeString (obj) {\n\treturn Object.prototype.toString.call(obj);\n}\n\n// **** Object utilities ****\n\n/*\n// From A. Levy's answer at https://stackoverflow.com/questions/728360/how-do-i-correctly-clone-a-javascript-object\n\nWhen I had to implement general deep copying I ended up compromising by assuming that I would only need to copy\na plain Object, Array, Date, String, Number, or Boolean. The last 3 types are immutable, so I could perform a shallow copy\nand not worry about it changing. I further assumed that any elements contained in Object or Array would also be one of the 6 simple types\nin that list. This can be accomplished with code like the following:\n\nfunction clone(obj) {\n    var copy;\n\n    // Handle the 3 simple types, and null or undefined\n    if (null == obj || \"object\" != typeof obj) return obj;\n\n    // Handle Date\n    if (obj instanceof Date) {\n        copy = new Date();\n        copy.setTime(obj.getTime());\n        return copy;\n    }\n\n    // Handle Array\n    if (obj instanceof Array) {\n        copy = [];\n        for (var i = 0, len = obj.length; i < len; i++) {\n            copy[i] = clone(obj[i]);\n        }\n        return copy;\n    }\n\n    // Handle Object\n    if (obj instanceof Object) {\n        copy = {};\n        for (var attr in obj) {\n            if (obj.hasOwnProperty(attr)) copy[attr] = clone(obj[attr]);\n        }\n        return copy;\n    }\n\n    throw new Error(\"Unable to copy obj! Its type isn't supported.\");\n}\n\nThe above function will work adequately for the 6 simple types I mentioned, as long as the data in the objects and arrays form a tree structure.\nThat is, there isn't more than one reference to the same data in the object.\n*/\n\nexport function clone (arg) {\n\t// For an in-depth discussion of object copying, see https://scotch.io/bar-talk/copying-objects-in-javascript\n\n\t// **** Warning: JSON.parse(JSON.stringify(arg)) will fail for circular objects.\n\t// ? Do we need isCircular(obj) ?\n\treturn JSON.parse(JSON.stringify(arg));\n\n\t// From avoidwork/haro/src/utility.js :\n\t// return JSON.parse(JSON.stringify(arg, null, 0)); // TODO: What are the second and third parameters to stringify() ?\n}\n\nexport function isDefined (obj) {\n\treturn typeof obj !== 'undefined';\n}\n\nexport function copySpecifiedObjectProperties (propertyList, src, dst = {}) {\n\n\tpropertyList.forEach(property => {\n\n\t\t// if (typeof src[property] !== 'undefined') {\n\t\tif (isDefined(src[property])) {\n\t\t\tdst[property] = src[property];\n\t\t}\n\t});\n\n\treturn dst;\n}\n\nexport function getOwnProperties (obj = {}) {\n\t/*\n\t// Version 1\n\t// See https://stackoverflow.com/questions/208016/how-to-list-the-properties-of-a-javascript-object\n\tlet result = [];\n\n\tfor (var key in obj) {\n\t\tif (obj.hasOwnProperty(key)) {\n\t\t\tresult.push(key);\n\t\t}\n\t}\n\n\treturn result;\n\t*/\n\n\t// Version 2\n\t// See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames\n\treturn Object.getOwnPropertyNames(obj);\n}\n\n// **** Numeric utilities ****\n\nexport function generateRange (start, end) {\n\tlet result = [];\n\n\twhile (start <= end) {\n\t\tresult.push(start);\n\t\tstart++;\n\t}\n\n\treturn result;\n}\n\nexport function generateFirstNNaturalNumbers (n) {\n\treturn generateRange(1, n);\n}\n\nexport function replicateString (str, n) {\n\treturn generateFirstNNaturalNumbers(n)\n\t\t.reduce(\n\t\t\t// (accumulator, i) => accumulator + str,\n\t\t\taccumulator => accumulator + str,\n\t\t\t''\n\t\t);\n}\n\nexport function zeroPadNumber (n, minLength) {\n\treturn (replicateString('0', minLength) + n).slice(-minLength);\n}\n\n// **** Date Utilities ****\n\nexport function getDateTimeString (date) {\n\tconst typeStringOfParam = getTypeString(date);\n\n\t// console.log('getDateTimeString() : Type of date parameter is', typeStringOfParam);\n\n\tif (!date || typeStringOfParam !== '[object Date]') {\n\t\t// console.log('getDateTimeString() : Setting the parameter to the current date and time...');\n\t\tdate = new Date();\n\t}\n\n\t// See https://stackoverflow.com/questions/10073699/pad-a-number-with-leading-zeros-in-javascript\n\t// ('000' + num).slice(-4)\n\t// return `${date.getFullYear()}-${('0' + (date.getMonth() + 1)).slice(-2)}-${('0' + date.getDate()).slice(-2)} ${('0' + date.getHours()).slice(-2)}:${('0' + date.getMinutes()).slice(-2)}:${('0' + date.getSeconds()).slice(-2)}`;\n\treturn `${date.getFullYear()}-${zeroPadNumber(date.getMonth() + 1, 2)}-${zeroPadNumber(date.getDate(), 2)} ${zeroPadNumber(date.getHours(), 2)}:${zeroPadNumber(date.getMinutes(), 2)}:${zeroPadNumber(date.getSeconds(), 2)}`;\n}\n\n// **** Array Utilities ****\n\nexport function insertNumberIntoArray (n, array) {\n\t// array must already be sorted in non-descending order.\n\tlet i = array.findIndex(m => m >= n);\n\n\tif (i < 0) {\n\t\ti = array.length;\n\t}\n\n\tlet result = clone(array);\n\n\t// Array.splice modifies the array in place. See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice\n\tresult.splice(i, 0, n);\n\n\treturn result;\n}\n\nexport function insertionSort (array) {\n\treturn array.reduce(\n\t\t(accumulator, n) => insertNumberIntoArray(n, accumulator),\n\t\t[]\n\t);\n}\n\nexport function removeDuplicatesFromArray (array) {\n\t// See the discussion at https://gist.github.com/telekosmos/3b62a31a5c43f40849bb\n\n\t// JavaScript Set: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set\n\n\t// See https://stackoverflow.com/questions/13486479/how-to-get-an-array-of-unique-values-from-an-array-containing-duplicates-in-java\n\t// Discussion about performace: See https://medium.com/@jakubsynowiec/unique-array-values-in-javascript-7c932682766c\n\t// return [...new Set(array)]; // Yes. Requires ES6, since it uses the \"spread\" operator (\"...\").\n\n\t// return Array.from(new Set(array)); // Yes\n\n\t// array.includes() does not exist.\n\n\treturn array.reduce((x, y) => x.includes(y) ? x : [...x, y], []); // Yes. From svnpenn.\n}\n\nexport function safeJsonParse (str, dflt = undefined) {\n\ttry {\n\t\treturn JSON.parse(str);\n\t} catch (e) {\n\n\t\tif (!isDefined(dflt)) {\n\t\t\tthrow e;\n\t\t}\n\n\t\treturn dflt;\n\t}\n}\n\n// avoidwork/haro/src/utility.js\n/*\n\tfunction has (a, b) {\n\t\treturn b in a;\n\t}\n\n\tfunction each (arr, fn) {\n\t\tfor (const item of arr.entries()) {\n\t\t\tfn(item[1], item[0]);\n\t\t}\n\n\t\treturn arr;\n\t}\n\n\tfunction cast (input) {\n\t\tlet result;\n\n\t\tswitch (true) {\n\t\t\tcase input instanceof Map:\n\t\t\t\tresult = {};\n\t\t\t\tinput.forEach((value, key) => {\n\t\t\t\t\tresult[key] = cast(value);\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase input instanceof Set:\n\t\t\t\tresult = Array.from(input);\n\t\t\t\tbreak;\n\t\t\tcase Array.isArray(input):\n\t\t\t\tresult = new Set(input);\n\t\t\t\tbreak;\n\t\t\tcase input instanceof Object:\n\t\t\t\tresult = new Map(Object.keys(input).map(i => [i, cast(input[i])]));\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tresult = input;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tfunction blob (arg) {\n\t\treturn new Blob([arg], {type: \"application/javascript\"});\n\t}\n\n\tfunction clone (arg) {\n\t\treturn JSON.parse(JSON.stringify(arg, null, 0));\n\t}\n\n\tfunction concatURI (left, right) {\n\t\treturn left.replace(regex.querystring, \"\").replace(regex.endslash, \"\") + (right ? \"/\" + right : \"\");\n\t}\n\n\tfunction keyIndex (key, data, delimiter, pattern) {\n\t\tlet result;\n\n\t\tif (key.indexOf(delimiter) > -1) {\n\t\t\tresult = key.split(delimiter).sort((a, b) => a.localeCompare(b)).map(i => data[i].toString().replace(new RegExp(pattern, \"g\"), \"\").toLowerCase()).join(delimiter);\n\t\t} else {\n\t\t\tresult = data[key];\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tfunction delIndex (index, indexes, delimiter, key, data, pattern) {\n\t\tindex.forEach(i => {\n\t\t\tconst idx = indexes.get(i),\n\t\t\t\tvalue = keyIndex(i, data, delimiter, pattern);\n\n\t\t\tif (idx.has(value)) {\n\t\t\t\tconst o = idx.get(value);\n\n\t\t\t\to.delete(key);\n\n\t\t\t\tif (o.size === 0) {\n\t\t\t\t\tidx.delete(value);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction createIndexes (records, indexes, key, delimiter, pattern) {\n\t\tconst result = {};\n\n\t\teach(indexes, i => {\n\t\t\tresult[i] = {};\n\t\t});\n\n\t\teach(records, i => {\n\t\t\tconst lkey = i[key];\n\n\t\t\tif (lkey !== void 0) {\n\t\t\t\tindexes.forEach(index => {\n\t\t\t\t\tconst lindex = keyIndex(index, i, delimiter, pattern);\n\n\t\t\t\t\tif (!has(result[index], lindex)) {\n\t\t\t\t\t\tresult[index][lindex] = [];\n\t\t\t\t\t}\n\n\t\t\t\t\tresult[index][lindex].push(lkey);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\treturn result;\n\t}\n\n\tfunction iterate (obj, fn) {\n\t\tif (obj instanceof Object) {\n\t\t\teach(Object.keys(obj), i => fn.call(obj, obj[i], i));\n\t\t} else {\n\t\t\teach(obj, fn);\n\t\t}\n\t}\n\n\tfunction merge (a, b) {\n\t\tif (a instanceof Object && b instanceof Object) {\n\t\t\teach(Object.keys(b), i => {\n\t\t\t\tif (a[i] instanceof Object && b[i] instanceof Object) {\n\t\t\t\t\ta[i] = merge(a[i], b[i]);\n\t\t\t\t} else if (Array.isArray(a[i]) && Array.isArray(b[i])) {\n\t\t\t\t\ta[i] = a[i].concat(b[i]);\n\t\t\t\t} else {\n\t\t\t\t\ta[i] = b[i];\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (Array.isArray(a) && Array.isArray(b)) {\n\t\t\ta = a.concat(b);\n\t\t} else {\n\t\t\ta = b;\n\t\t}\n\n\t\treturn a;\n\t}\n\n\tfunction joinData (id, a, b, key, on, type = \"inner\") {\n\t\tconst result = [];\n\t\tlet errorMsg = \"More than one record found on \";\n\n\t\tlet error = false;\n\n\t\tfunction join (left, right, ids, include = false, reverse = false) {\n\t\t\tconst keys = Object.keys(right[0]),\n\t\t\t\tfn = !reverse ? (x, i) => x[on] === i[key] : (x, i) => x[key] === i[on];\n\n\t\t\teach(left, i => {\n\t\t\t\tconst comp = {},\n\t\t\t\t\tc = right.filter(x => fn(x, i));\n\n\t\t\t\tlet valid = true;\n\n\t\t\t\tif (c.length > 1) {\n\t\t\t\t\terror = true;\n\t\t\t\t\terrorMsg += i[on];\n\t\t\t\t\tvalid = false;\n\t\t\t\t} else if (c.length === 1) {\n\t\t\t\t\teach([i, c[0]], (x, idx) => iterate(x, (v, k) => {\n\t\t\t\t\t\tcomp[ids[idx] + \"_\" + k] = v;\n\t\t\t\t\t}));\n\t\t\t\t} else if (include) {\n\t\t\t\t\titerate(i, (v, k) => {\n\t\t\t\t\t\tcomp[ids[0] + \"_\" + k] = v;\n\t\t\t\t\t});\n\n\t\t\t\t\teach(keys, k => {\n\t\t\t\t\t\tcomp[ids[1] + \"_\" + k] = null;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (valid && Object.keys(comp).length > 0) {\n\t\t\t\t\tresult.push(comp);\n\t\t\t\t}\n\n\t\t\t\treturn valid;\n\t\t\t}, true);\n\t\t}\n\n\t\tif (type === \"inner\") {\n\t\t\tjoin(a, b, id);\n\t\t}\n\n\t\tif (type === \"left\") {\n\t\t\tjoin(a, b, id, true);\n\t\t}\n\n\t\tif (type === \"right\") {\n\t\t\tjoin(b, a, clone(id).reverse(), true, true);\n\t\t}\n\n\t\treturn !error ? result : errorMsg;\n\t}\n\n\tfunction onmessage (ev) {\n\t\tconst data = JSON.parse(ev.data),\n\t\t\tcmd = data.cmd;\n\n\t\tlet result;\n\n\t\tif (cmd === \"index\") {\n\t\t\tresult = createIndexes(data.records, data.index, data.key, data.delimiter, data.pattern);\n\t\t}\n\n\t\tif (cmd === \"join\") {\n\t\t\tresult = joinData(data.ids, data.records[0], data.records[1], data.key, data.on, data.type);\n\t\t}\n\n\t\tpostMessage(JSON.stringify(result));\n\t}\n\n\tfunction createPatch (ogdata = {}, data = {}, key = \"\", overwrite = false) {\n\t\tconst result = [];\n\n\t\tif (overwrite) {\n\t\t\titerate(ogdata, (v, k) => {\n\t\t\t\tif (k !== key && data[k] === void 0) {\n\t\t\t\t\tresult.push({op: \"remove\", path: \"/\" + k});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\titerate(data, (v, k) => {\n\t\t\tif (k !== key && ogdata[k] === void 0) {\n\t\t\t\tresult.push({op: \"add\", path: \"/\" + k, value: v});\n\t\t\t} else if (JSON.stringify(ogdata[k]) !== JSON.stringify(v)) {\n\t\t\t\tresult.push({op: \"replace\", path: \"/\" + k, value: v});\n\t\t\t}\n\t\t});\n\n\t\treturn result;\n\t}\n\n\tfunction s () {\n\t\treturn ((Math.random() + 1) * 0x10000 | 0).toString(16).substring(1);\n\t}\n\n\tfunction setIndex (index, indexes, delimiter, key, data, indice, pattern) {\n\t\teach(!indice ? index : [indice], i => {\n\t\t\tconst lidx = keyIndex(i, data, delimiter, pattern);\n\t\t\tlet lindex;\n\n\t\t\tif (lidx !== void 0 && lidx !== null) {\n\t\t\t\tlindex = indexes.get(i);\n\n\t\t\t\tif (!lindex.has(lidx)) {\n\t\t\t\t\tlindex.set(lidx, new Set());\n\t\t\t\t}\n\n\t\t\t\tlindex.get(lidx).add(key);\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction toObjekt (arg, frozen = true) {\n\t\tconst result = {};\n\n\t\targ.forEach((value, key) => {\n\t\t\tconst obj = value;\n\n\t\t\tif (frozen) {\n\t\t\t\tObject.freeze(obj);\n\t\t\t}\n\n\t\t\tresult[clone(key)] = obj;\n\t\t});\n\n\t\tif (frozen) {\n\t\t\tObject.freeze(result);\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tfunction uuid () {\n\t\treturn s() + s() + \"-\" + s() + \"-4\" + s().substr(0, 3) + \"-\" + r[Math.floor(Math.random() * 4)] + s().substr(0, 3) + \"-\" + s() + s() + s();\n\t}\n\n\tconst functions = [\n\t\tcast.toString(),\n\t\tclone.toString(),\n\t\tcreateIndexes.toString(),\n\t\teach.toString(),\n\t\thas.toString(),\n\t\titerate.toString(),\n\t\tjoinData.toString(),\n\t\tkeyIndex.toString(),\n\t\tsetIndex.toString(),\n\t\t(node === false ? \"\" : \"self.\") + \"onmessage = \" + onmessage.toString() + \";\"\n\t].join(\"\\n\");\n*/\n\n// uuid() :\n// See https://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript\n// See https://developer.mozilla.org/en-US/docs/Web/API/Crypto\n\n// **** BEGIN : From avoidwork/haro ****\n\n/*\nfunction s () {\n\treturn ((Math.random() + 1) * 0x10000 | 0).toString(16).substring(1);\n}\n*/\n\nexport function uuid () {\n\t// From avoidwork/haro. Thank you, Jason Mulligan.\n\tconst r = [8, 9, 'a', 'b'];\n\tconst s = () => ((Math.random() + 1) * 0x10000 | 0).toString(16).substring(1);\n\n\treturn s() + s() + '-' + s() + '-4' + s().substr(0, 3) + '-' +\n\t\tr[Math.floor(Math.random() * 4)] + s().substr(0, 3) + '-' +\n\t\ts() + s() + s();\n}\n\n// **** END : From avoidwork/haro ****\n\n// TODO: common-utilities: Create mean(), median(), mode(), histogram()\n\n/*\nexport function isArray (arg) {\n\treturn getTypeString(arg) === '[object Array]';\n}\n*/\n\nfunction factory_fnIsType (typeName) {\n\treturn arg => getTypeString(arg) === `[object ${typeName}]`;\n}\n\n// TODO: npm i -D @babel/preset-env\n// TODO: Babel presets in Gruntfile: \"presets\": [ \"@babel/preset-env\" ]\n// See https://github.com/babel/babel/issues/8575\n// See https://github.com/storybooks/storybook/issues/3937\n// See https://stackoverflow.com/questions/52092739/upgrade-to-babel-7-cannot-read-property-bindings-of-null\nexport const isArray = factory_fnIsType('Array');\n\n/*\nexport function isFunction (arg) {\n\treturn getTypeString(arg) === '[object Function]';\n}\n*/\nexport const isFunction = factory_fnIsType('Function');\n\nexport const isRegularExpression = factory_fnIsType('RegExp');\n\nexport function isArrayOfNumbers (arg) {\n\treturn isArray(arg) &&\n\t\targ.every(element => getTypeString(element) === '[object Number]');\n}\n\nexport function sum (arg) {\n\n\tif (!isArrayOfNumbers(arg)) {\n\t\treturn undefined;\n\t}\n\n\treturn arg.reduce(\n\t\t(accumulator, n) => accumulator + n,\n\t\t0\n\t);\n}\n\nexport function mean (arg) {\n\n\tif (!isArrayOfNumbers(arg) || arg.length <= 0) {\n\t\treturn undefined;\n\t}\n\n\treturn sum(arg) / arg.length;\n}\n\nexport function median (arg) {\n\t// console.log('median: arg is', arg);\n\t// console.log('median: getTypeString(arg) is', getTypeString(arg));\n\n\tif (!isArrayOfNumbers(arg) || arg.length <= 0) {\n\t\treturn undefined;\n\t}\n\n\tconst sortedArray = clone(arg).sort(); // Array.sort() sorts the array *in place*\n\n\t// console.log('median: sortedArray is', sortedArray);\n\t// console.log('median: sortedArray.length is', sortedArray.length);\n\n\treturn sortedArray[Math.floor(sortedArray.length / 2)];\n}\n\nexport function histogram (arg) {\n\n\tif (!isArray(arg)) {\n\t\treturn undefined;\n\t}\n\n\tlet result = {};\n\n\targ.forEach(element => {\n\t\tresult[element] = (result[element] || 0) + 1;\n\t});\n\n\treturn result;\n\n\t/* Or:\n\treturn arg.reduce(\n\t\t(accumulator, element) => {\n\t\t\taccumulator[element] = (accumulator[element] || 0) + 1;\n\n\t\t\treturn accumulator;\n\t\t},\n\t\t{}\n\t);\n\t*/\n}\n\nexport function mode (arg) {\n\tconst hist = histogram(arg);\n\n\treturn Object.keys(hist).reduce(\n\t\t(accumulator, element) => {\n\t\t\t// console.log('mode: accumulator is', accumulator);\n\t\t\t// console.log('mode: element is', element);\n\t\t\t// console.log('mode: hist[element] is', hist[element]);\n\n\t\t\tif (hist[element] > accumulator.count) {\n\t\t\t\taccumulator = { element: element, count: hist[element] };\n\t\t\t\t// console.log('**** mode: accumulator is now', accumulator);\n\t\t\t}\n\n\t\t\treturn accumulator;\n\t\t},\n\t\t{ element: undefined, count: 0 }\n\t);\n}\n\nfunction getAllSubsetsHelper (result, arg, i, subsetInProgress) {\n\n\tif (i >= arg.length) {\n\t\tresult.push(clone(subsetInProgress));\n\t} else {\n\t\tgetAllSubsetsHelper(result, arg, i + 1, subsetInProgress);\n\t\tsubsetInProgress.push(arg[i]);\n\t\tgetAllSubsetsHelper(result, arg, i + 1, subsetInProgress);\n\t\tsubsetInProgress.pop();\n\t}\n}\n\nexport function getAllSubsets (arg, sortSubsets, fnSubsetComparator) {\n\tlet result = [];\n\n\tgetAllSubsetsHelper(result, arg, 0, []);\n\n\t// console.log('getAllSubsets() : arg is', arg, '; result is', result);\n\n\tif (sortSubsets) {\n\t\tconst fnDefaultSubsetComparator = (s1, s2) => {\n\t\t\tconst lengthDiff = s1.length - s2.length;\n\n\t\t\tif (lengthDiff) {\n\t\t\t\treturn lengthDiff;\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < s1.length; ++i) {\n\t\t\t\tconst elementDiff = s1[i] - s2[i];\n\n\t\t\t\tif (elementDiff) {\n\t\t\t\t\treturn elementDiff;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t};\n\n\t\tresult.sort(fnSubsetComparator || fnDefaultSubsetComparator);\n\t}\n\n\treturn result;\n}\n\nfunction isSubset (set1, set2, fnElementsAreEqual) {\n\treturn set1.every(element1 => isDefined(set2.find(element2 => fnElementsAreEqual(element1, element2))));\n}\n\nexport function areSetsEqual (set1, set2, fnElementsAreEqual) {\n\n\tif (!isFunction(fnElementsAreEqual)) {\n\t\tfnElementsAreEqual = (a, b) => a === b;\n\t}\n\n\treturn isArray(set1) && isArray(set2) && isSubset(set1, set2, fnElementsAreEqual) && isSubset(set2, set1, fnElementsAreEqual);\n}\n\n// return () => 'Hello world!';\n"],"sourceRoot":""}